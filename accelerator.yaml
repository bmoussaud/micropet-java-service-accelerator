accelerator:
  displayName: Micropet Java Service
  description: Tanzu Application Platform Accelerator to spin up a new service for the micropets app
  iconUrl: https://github.com/bmoussaud/micropet-java-service-accelerator/raw/main/pet-silhouette-icons.png
  tags:
    - java
    - spring
    - micropets
  options:
    - name: petKind
      label: "Kind"
      display: true
      defaultValue: Snake
      required: true
    - name: pkgName
      label: Package
      description: The name of the package
      dataType: string
      defaultValue: org.moussaud.micropets
engine:
  merge:
    - exclude:
        [
          "**/*.java",
          ".project",
          ".classpath",
          ".settings/**",
          "k8s-resource.yml",
        ]
    - include: ["**/*.java"]
      chain:
        - type: OpenRewriteRecipe
          recipe: org.openrewrite.java.ChangePackage
          options:
            oldFullyQualifiedPackageName: "'com.renamethis'"
            newFullyQualifiedPackageName: "#pkgName"
            recursive: true
